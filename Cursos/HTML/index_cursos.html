<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./index_cursos.css" />
  </head>
  <body>
    <header>
      <p id="logo">CODE<span style="color: gold">BOOK</span></p>
      <nav>
        <img src="./Property 1=Default.jpg" />
      </nav>
    </header>
    <div id="sub_header">NOMBRE CURSO</div>
    <div id="select">
      <select id="category" name="category"></select>
    </div>
    <main>
      <div id="desc">
        ¡Bienvenido al curso "Fundamentos y Desarrollo Avanzado en JavaScript"!
        Este curso está diseñado para proporcionarte un sólido entendimiento de
        JavaScript, desde los conceptos básicos hasta técnicas avanzadas de
        desarrollo. Ya sea que seas un principiante absoluto o un desarrollador
        con experiencia en otras tecnologías, este curso te ayudará a dominar el
        lenguaje de programación fundamental para la construcción de
        aplicaciones web modernas.
      </div>
      <div id="maingrid">
        <div id="temas">
          <div class="lineas">
            <p id="labelCursos">Tema 1</p>
            <hr />
          </div>
          <div id="t1">
            <div class="content">
              <img src="../img/img/Rectangle_1.png" />
              <div>
                <p>Introducion a JavaScript</p>
              </div>
            </div>
            <div class="content">
              <img src="../img/img/Rectangle_1.png" />
              <div>
                <p>Estructuras de Control y Funciones</p>
              </div>
            </div>
          </div>
          <div class="lineas">
            <p id="labelCursos">Tema 2</p>
            <hr />
          </div>
        </div>
        <aside>
          <div></div>
        </aside>
      </div>
    </main>
  </body>
  <script>
    let select = document.getElementById("category");
    function AnyadirTemas() {
      for (let i = 0; i <= 5; i++) {
        let option = document.createElement("option");
        let value = document.createAttribute("value");
        value.value = "Tema" + (i + 1);
        option.innerHTML = "Tema " + (i + 1);
        option.setAttributeNode(value);
        select.appendChild(option);
      }
    }
    AnyadirTemas();

    function obtenerValorParametro(nombreParametro) {
      const parametros = new URLSearchParams(window.location.search);
      return parametros.get(nombreParametro);
    }

    // const idCurso = obtenerValorParametro('id_curso');
    const idCurso = 6;

    async function obtenerEpisodios(idCurso) {
      try {
        const response = await fetch(
          `../PHP/sacar_episodios_curso.php?id_curso=${idCurso}`
        );

        if (!response.ok) {
          throw new Error(
            `Error al obtener episodios. Status: ${response.status}`
          );
        }

        const episodios = await response.json();
        // Haz algo con los datos de los episodios, por ejemplo, mostrarlos en la consola
        console.log(episodios);
      } catch (error) {
        console.error("Error:", error);
      }
    }

    // Llama a la función para obtener los episodios
    obtenerEpisodios(idCurso);
  </script>
</html>
